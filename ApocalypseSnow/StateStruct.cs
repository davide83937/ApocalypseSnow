namespace ApocalypseSnow;

public struct StateStruct
{
    public MessageType Type;
    public StateList Current;
    public StateList Old;


    public StateStruct()
    {
        Type = MessageType.State;
    }

    public void Update()
    {
        Old = Current;
        Current = StateList.None;
    }
    
    public bool IsPressed(StateList action)
    {
        return Current.HasFlag(action);
    }
    
    public bool JustPressed(StateList action)
    {
        return Current.HasFlag(action) && !Old.HasFlag(action);
    }
    
    public bool JustReleased(StateList action)
    {
        return !Current.HasFlag(action) && Old.HasFlag(action);
    }
}